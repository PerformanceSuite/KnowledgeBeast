# KnowledgeBeast Environment Configuration
# Copy this file to .env and customize for your environment

# ============================================================================
# Application Settings
# ============================================================================

# Data directory for knowledge base storage
KB_DATA_DIR=/data

# Configuration directory
KB_CONFIG_DIR=/config

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
KB_LOG_LEVEL=INFO

# Debug mode (true/false)
KB_DEBUG=false

# ============================================================================
# API Server Settings
# ============================================================================

# API host binding
KB_API_HOST=0.0.0.0

# API port
KB_API_PORT=8000

# Number of worker processes (1 for development, 2-4 for production)
KB_API_WORKERS=1

# Enable hot reload (development only)
KB_API_RELOAD=false

# CORS allowed origins (comma-separated)
# For security, specify exact origins instead of using wildcard (*)
# Development default: http://localhost:3000,http://localhost:8000
# Production example: https://app.example.com,https://api.example.com
KB_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# ============================================================================
# Redis Cache Settings (Optional)
# ============================================================================

# Enable Redis caching
KB_REDIS_ENABLED=false

# Redis host
KB_REDIS_HOST=redis

# Redis port
KB_REDIS_PORT=6379

# Redis database number
KB_REDIS_DB=0

# Redis password (optional)
# KB_REDIS_PASSWORD=your_password_here

# Redis connection timeout (seconds)
KB_REDIS_TIMEOUT=5

# ============================================================================
# Vector Database Settings
# ============================================================================

# ChromaDB storage path
KB_VECTOR_DB_PATH=/data/chroma_db

# Embedding model (sentence-transformers model name)
# Options: all-MiniLM-L6-v2, all-mpnet-base-v2, multi-qa-MiniLM-L6-cos-v1
KB_EMBEDDING_MODEL=all-MiniLM-L6-v2

# Collection name
KB_COLLECTION_NAME=knowledge_base

# ============================================================================
# Document Processing Settings
# ============================================================================

# Maximum upload file size (bytes, default: 10MB)
KB_MAX_UPLOAD_SIZE=10485760

# Text chunk size for splitting documents
KB_CHUNK_SIZE=1000

# Chunk overlap for better context preservation
KB_CHUNK_OVERLAP=200

# Minimum chunk size (chunks smaller than this are discarded)
KB_MIN_CHUNK_SIZE=100

# ============================================================================
# Query Settings
# ============================================================================

# Default number of results to return
KB_DEFAULT_LIMIT=10

# Maximum number of results allowed
KB_MAX_LIMIT=100

# Similarity threshold for retrieval (0.0 to 1.0)
KB_SIMILARITY_THRESHOLD=0.0

# ============================================================================
# Performance Settings
# ============================================================================

# Enable query caching
KB_ENABLE_QUERY_CACHE=true

# Query cache TTL (seconds)
KB_QUERY_CACHE_TTL=3600

# Maximum cache size (number of entries)
KB_MAX_CACHE_SIZE=1000

# Batch size for bulk operations
KB_BATCH_SIZE=100

# ============================================================================
# Security Settings
# ============================================================================

# API key for authentication (leave empty to disable)
# KB_API_KEY=your_secret_api_key_here

# JWT secret for token authentication (if implementing JWT)
# KB_JWT_SECRET=your_jwt_secret_here

# Enable HTTPS only (production)
KB_HTTPS_ONLY=false

# Maximum request body size in bytes (default: 10485760 = 10MB)
# Prevents DoS attacks via large payloads
KB_MAX_REQUEST_SIZE=10485760

# Maximum query string length in characters (default: 10000)
# Prevents DoS attacks via long URLs
KB_MAX_QUERY_LENGTH=10000

# ============================================================================
# Monitoring and Observability
# ============================================================================

# Enable request logging
KB_ENABLE_REQUEST_LOGGING=true

# Enable performance metrics
KB_ENABLE_METRICS=true

# Metrics export port (Prometheus)
KB_METRICS_PORT=9090

# Sentry DSN for error tracking (optional)
# KB_SENTRY_DSN=https://your-sentry-dsn-here

# ============================================================================
# Advanced Settings
# ============================================================================

# Thread pool size for CPU-bound tasks
KB_THREAD_POOL_SIZE=4

# Enable async mode for I/O operations
KB_ASYNC_MODE=true

# Request timeout (seconds)
KB_REQUEST_TIMEOUT=30

# Graceful shutdown timeout (seconds)
KB_SHUTDOWN_TIMEOUT=10
